{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Invoice | Altaf| Bill</title>
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>


  <body>

    <div id="container" class="container">
		<!-- FORM SECTION -->
		<div class="row">

			<!-- SIGN UP -->
			<div class="col align-items-center flex-col sign-up">
				<div class="form-wrapper align-items-center">
					<div class="form sign-up" >

                    <form action="{% url 'account:registerpage' %}" method="POST" id="post-form"  enctype="multipart/form-data">  
                            {% csrf_token %} 
                            <input type="hidden" name="form_type" value="formOne">
							{% if messages %}
							{% for message in messages %}
							<p>{{message}}</p>
							{% endfor %}
							{% endif %}
						<div class="input-group">
							<i class='bx bxs-user'></i>
							<input type="text" placeholder="Username" name="username" id="username" required> 
						</div>
						<div class="input-group">
							<i class='bx bx-mail-send'></i>
							<input type="email" placeholder="Email" name="email" id="email" required>
						</div>
						<div class="input-group">
							<i class='bx bxs-lock-alt'></i>
							<input type="password" placeholder="Password" name="password1" id="password1" required>
						</div>
						<div class="input-group">
							<i class='bx bxs-lock-alt'></i>
							<input type="password" placeholder="Confirm password" name="password2" id="password2" required>
						</div>
						<button type="submit" id="defaultsub">
							Sign up
						</button>
                    </form>

						<p>
							<span>
								Already have an account?
							</span>
							<b onclick="toggle()" class="pointer">
								Sign in here
							</b>
						</p>
					</div>
				</div>
			</div>
			<!-- END SIGN UP -->


			<!-- SIGN IN -->
			<div class="col align-items-center flex-col sign-in">
				<div class="form-wrapper align-items-center">
					<div class="form sign-in">

                        <form action="{% url 'account:loginpage' %} " method="POST"  enctype="multipart/form-data">  
                            {% csrf_token %} 
                            <input type="hidden" name="form_type" value="formTwo">
						<div class="input-group">
							<i class='bx bxs-user'></i>
							<input type="text" placeholder="Username" name="username" required>
						</div>
						<div class="input-group">
							<i class='bx bxs-lock-alt'></i>
							<input type="password" name="password" placeholder="password" required>
						</div>
						<button type="submit">
							Sign in
						</button>
                    </form>


						<p>
							<b>
								Forgot password?
							</b>
						</p>
						<p>
							<span>
								Don't have an account?
							</span>
							<b onclick="toggle()" class="pointer">
								Sign up here
							</b>
						</p>
					</div>
				</div>
				<div class="form-wrapper">
		
				</div>
			</div>
			<!-- END SIGN IN -->


		</div>
		<!-- END FORM SECTION -->
		<!-- CONTENT SECTION -->
		<div class="row content-row">
			<!-- SIGN IN CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="text sign-in">
					<h2>
						Welcome
					</h2>
	
				</div>
				<div class="img sign-in">
		
				</div>
			</div>
			<!-- END SIGN IN CONTENT -->
			<!-- SIGN UP CONTENT -->
			<div class="col align-items-center flex-col">
				<div class="img sign-up">
				
				</div>
				<div class="text sign-up">
					<h2>
						Join with us
					</h2>
	
				</div>
			</div>
			<!-- END SIGN UP CONTENT -->
		</div>
		<!-- END CONTENT SECTION -->
	</div>

	{% comment %} <script src="/static/js/jquery-2.2.4.min.js"></script> {% endcomment %}
    <script>

        let container = document.getElementById('container')

        toggle = () => {
            container.classList.toggle('sign-in')
            container.classList.toggle('sign-up')
        }

        setTimeout(() => {
            container.classList.add('sign-in')
        }, 200) 

	
		{% comment %} $(document).on('submit', '#post-form',function(e){   {% endcomment %}

		$('#post-form').on('click','#defaultsub',function(e){ 
	
			console.log(e);         
			e.preventDefault();
			const username = $('#username').val();
			const email = $('#email').val();
			const password1 = $('#password1').val();
			const password2 = $('#password2').val();

			mydata ={username:username,email:email,password1:password1,
				password2:password2}
			  $.ajax({
				   url: "{% url 'account:registerpage' %}",
				   method:"POST",
				   data:mydata,
					dataType: "json",
				   }, 

				   success: function(data){
					   console.log(data)
					   console.log(data.username)
				   },
			
				   failure: function() {
					{% if messages %}
					{% for message in messages %}
					<p>{{message}}</p>
					{% endfor %}
					{% endif %}
					   
				   }
			
			
			   });
			
			
					});   

    </script>

  
  </body>
</html>